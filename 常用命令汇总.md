### 第一章 Linux 的目录结构  

#### 1.1 基本介绍

`linux `的文件系统是采用级层式的树状目录结构，在此结构中的最上层是根目录`“/”`，然后在此目录下再创建其他的目录。

 在` Linux `世界里，一切皆文件。

![image-20200720123221979](C:\Users\68300110\AppData\Roaming\Typora\typora-user-images\image-20200720123221979.png)

#### 1.2 Linux具体目录结构

* **/lib**
  * 系统开机所需要最基本的动态链接共享库，其作用类似于`Windows`里的`DLL`文件。几乎所有的应用程序都需要用到这些共享库。

* **/lost+found**
  * 一般情况下是空的，当系统非法关机后，这里就存放了一些文件。
* **/etc** 【重点】
  * 所有系统管理所需要的配置文件和子目录。`my.conf`

* **/usr**
  * 用户的很多应用程序和文件都放在这个目录下。类似于`Windows`下的`program.files`目录

* **/bin **【重点】`usr/bin`、`/usr/local/bin`， [**`usr:Unix System Resource`**，即Unix系统资源的缩写]
  * 是Binary的缩写，这个目录存放着经常使用的命令

* **/sbin **(`usr/sbin`、`/usr/local/sbin`)
  * `s`就是`super user`的意思，这里存放的是系统管理员使用的系统管理程序

* **/home **【重点】
  * 存放普通用户的主目录，在`Linux`中的每个用户都有一个自己的目录，一般该目录一用户的账号名命名

* **/root **【重点】
  * 该目录为系统管理员，超级权限者的用户目录

* **/boot**
  * 存放的启动`Linux`时使用的一些核心文件，包括一些链接文件和镜像文件

* **/proc** 
  *  虚拟目录，是系统内存的映射，访问这个目录来获取系统信息。

* **/srv** 
  * `service` 的缩写，该目录是存放一些服务启动之后需要提取的数据

* **/sys**
  * `Linux2.6`内核的一个很大变化，该目录安装了2.6内核中新出现的一个文件系统

* **/tmp**
  * 存放临时文件

* **/dev**
  * 类似于 `windows`的设备管理器,把所有的硬件用文件的形式存储

* **/media** 【重点】
  * Linux系统会自动识别一些设备,例如U盘、光驱等等,当识别后，`Linux `会把识别的设备挂载到这个目录下。

* **/mnt** 【重点】
  * 系统提供该目录是为了让用户临时挂载别的文件系统的,我们可以将外部的存储挂载在`/mnt/`上,然后进入该目录就可以查看里的内容了。`d:/ myshare`

* **/opt**
  * 这是给主机额外安装软件所摆放的目录。如安装` ORACLE`数据库就可放到该目录下。默认为空。

* **/usr/local** 【重点】
  * 这是另个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序。

* **/var** 【重点】
  * 这个目录中存放着在不断扩充着的东西,习惯将经常被修改的目录放在这个目录下。包括各种日志文件。

* **/selinux [security-enhanced linux]** 类似 360
  * `Selinux`是一种安全子系统,它能控制程序只能访同特定文件。

#### 1.3 Linux 目录总结一下

1. `linux` 的目录中有且只要一个根目录 `/ `

2. `linux `的各个目录存放的内容是规划好，不用乱放文件。
3. `linux` 是以文件的形式管理我们的设备，因此` linux` 系统，一切皆为文件。
4. `linux `的各个文件目录下存放什么内容，大家必须有一个认识。
5. 脑海中应该有一颗 `linux `目录树。

### 第二章 Linux常用命令

#### 2.1 文件处理命令

##### 2.1.1 命令格式与目录处理命令ls

**命令格式 ：命令 [-选项] [参数]** 

例 ：` ls -la /etc `

说明：

1. 个别命令使用不遵循此格式
2. 当有多个选项时，可以写在一起
3. 简化选项与完整选项`-a `等于` --all`

![image-20200720123619389](C:\Users\68300110\AppData\Roaming\Typora\typora-user-images\image-20200720123619389.png)

**命令名称：** **ls** 

命令英文原意：`list `

命令所在路径：`/bin/ls `

执行权限：所有用户

功能描述：显示目录文件

语法：`ls `选项[-ald] [文件或目录] 

`-a ` 显示所有文件，包括隐藏文件

`-l`   详细信息显示

`-d ` 查看目录属性

 

tip：

`-rw-r--r-- `

`-`文件类型（`- `文件 `d `目录 `l `软链接文件）

`rw- r-- r-- `

`u g o` 

`u`所有者 `g`所属组 `o`其他人

`r`读` w`写` x`执行

 

##### 4.1.2 目录处理命令

**命令名称：mkdir** 

命令英文原意：`make directories `

命令所在路径：`/bin/mkdir `

执行权限：所有用户

语法：`mkdir -p [目录名] `

功能描述：创建新目录`-p` 递归创建

范例：递归创建目录` $ mkdir -p /tmp/lveh/test `

​		    连续创建目录`$ mkdir /tmp/lveh/test1 /tmp/lveh/test2`

 

**命令名称：cd** 

命令英文原意：`change directory `

命令所在路径：`shell`内置

命令执行权限：所有用户

语法：`cd [目录]` 

功能描述：切换目录

范例： `$ cd /tmp/lveh/test `   切换到指定目录

   		 ` $ cd ..`    回到上一级目录

 

 

**命令名称：pwd **

命令英文原意：` print working directory `

命令所在路径：`/bin/pwd `

执行权限：所有用户

语法：`pwd` 

功能描述：显示当前目录

范例：`$ pwd` 

 	  	`/tmp/lveh`

 

**命令名称：rmdir** 

命令英文原意：`remove empty directories `

命令所在路径：`/bin/rmdir `

执行权限：所有用户

语法：`rmdir [目录名]` 

功能描述： 删除空目录

范例：` $ rmdir /tmp/lveh/test `

 

 

**命令名称：cp** 

命令英文原意：`copy `

命令所在路径：`/bin/cp `

执行权限：所有用户

语法：`cp -rp` [原文件或目录] [目标目录] 

`-r` 复制目录

`-p` 保留文件属性

功能描述：复制文件或目录

范例：`$ cp -r /tmp/lveh/test ` `/root`

将目录`/tmp/lveh/test`复制到目录`/root`下

`$ cp -rp /tmp/lveh/test1` `/tmp/lveh/test2 /root`

将`/tmp/lveh`目录下的`test1`和`test2`目录复制到`/root`下，保持目录属性

 

**命令名称：rm** 

命令英文原意：`remove` 

命令所在路径：`/bin/rm` 

执行权限：所有用户

语法：`rm -rf`  [文件或目录] 

`-r` 删除目录

`-f` 强制执行

功能描述：删除文件

范例：`$ rm /tmp/yum.log` 

删除文件`/tmp/yum.log `

`$ rm -rf /tmp/lveh/test `

删除目录`/tmp/lveh/test`

 

##### 4.1.3 文件处理命令

**命令名称：touch** 

命令所在路径：`/bin/touch` 

执行权限：所有用户 

语法：`touch [文件名] `        

功能描述：创建空文件 

范例： `$ touch LvehStory.list`

 

**命令名称：cat**

命令所在路径：`/bin/cat` 

执行权限：所有用户 

语法：`cat [文件名]` 

功能描述：显示文件内容      

  `-n` 显示行号 

范例： `$ cat /etc/issue`      `$ cat -n /etc/services`

 

**命令名称：more** 

命令所在路径：`/bin/more` 

执行权限：所有用户 

语法：`more [文件名] `        

(空格) 或`f`    翻页        

`(Enter)`       换行         

`q`或`Q`       退出 

功能描述：分页显示文件内容 

范例：  `$ more /etc/services`

 

**命令名称：less** 

命令所在路径：`/usr/bin/less `

执行权限：所有用户 

语法：`less [文件名] `

功能描述：分页显示文件内容（可向上翻页）

范例： ` $ less /etc/services`

**tips:** **按下 / 后可以搜索 会反显高亮 按q退出（more也可以）**

 

**命令名称：head**

命令所在路径：`/usr/bin/head` 

执行权限：所有用户 

语法：`head [文件名] `

功能描述：显示文件前面几行  

`-n` 指定行数 

范例：  `$ head -n 20 /etc/services`

 

**命令名称：tail** 

命令所在路径：`/usr/bin/tail `

执行权限：所有用户 

语法：`tail [文件名] `

功能描述：显示文件后面几行  

 ` -n `指定行数  

 ` -f `动态显示文件末尾内容 

范例： ` $ tail -n 18 /etc/services`

 

##### 4.1.4 链接命令

**命令名称：ln** 

命令英文原意：`link `

命令所在路径：`/bin/ln` 

执行权限：所有用户 

语法：`ln -s [原文件] [目标文件] `        

` -s `创建软链接 

功能描述：生成链接文件

 

范例：    

`$ ln -s /etc/issue /tmp/issue.soft`    

 创建文件`/etc/issue`的软链接`/tmp/issue.soft`    

`$ ln /etc/issue /tmp/issue.hard`    

 创建文件`/etc/issue`的硬链接`/tmp/issue.hard`

 

**软链接特征：**

类似`Windows`快捷方式

1. `lrwxrwxrwx ` `l` 软链接 

软链接文件权限都为`rwxrwxrwx` 

2. 文件大小-只是符号链接 

3. `/tmp/issue.soft` -> `/etc/issue` 箭头指向原文件

 

**硬链接特征：** 

1、拷贝`cp -p` + **同步更新** 

`echo "this is a test" >> /etc/motd` 

2、**可通过i节点识别 **

3、不能跨分区

4、不能针对目录使用

 

#### 2.2 权限管理命令

##### 2.2.1 权限管理命令chmod

**命令名称：chmod** 

命令英文原意：`change the permissions mode of a file `

命令所在路径：`/bin/chmod `

执行权限：所有用户 

语法：`chmod [{ugoa}{+-=}{rwx}] [文件或目录]`             

 `[mode=421 ] [文件或目录]      `       

 `-R `递归修改 

功能描述：改变文件或目录权限

 

权限的数字表示   

`r ---- 4 `  `w ---- 2`   `x ---- 1`

`rwxrw-r--`  `7  6  4`

 

范例：    

` $ chmod g+w testfile     `

赋予文件testfile所属组写权限   

` $ chmod -R 777 testdir     `

修改目录`testfile`及其目录下文件为所有用户具有全部权限

| 代表字符 | 权限     |   对文件的含义   | 对目录的含义                   |
| -------- | -------- | :--------------: | ------------------------------ |
| r        | 读权限   | 可以查看文件内容 | **可以列出目录中的内容**       |
| w        | 写权限   | 可以修改文件内容 | **可以在目录中创建、删除文件** |
| x        | 执行权限 |   可以执行文件   | **可以进入目录**               |

tips:

**1.rwx作用在文件时**

1>` r:read`，可以读取，查看

2> `w:writte`, 可以修改，但是不代表可以删除该文件，删除一个文件的前提是对该文件所在的目录（文件夹）具有写的权限，才能删该文件

3>` x:execute`，可以被执行

**2.rwx作用在目录时**

1>` r`，ls查看目录内容

2>`w`, 可以修改，目录内创建+删除+重命名目录

3>` x`, 可以进入该目录 

##### 2.2.2 其他权限管理命令

**命令名称：chown** 

命令英文原意：`change file ownership`

命令所在路径：`/bin/chown` 

执行权限：所有用户 

语法：`chown [用户] [文件或目录] `

功能描述：改变文件或目录的所有者 范例：`$ chown shenchao fengjie`        

 改变文件`fengjie`的所有者为`shenchao`

 

**命令名称：chgrp** 

命令英文原意：`change file group ownership` 

命令所在路径：`/bin/chgrp`

执行权限：所有用户 

语法：`chgrp [用户组] [文件或目录] `

功能描述：改变文件或目录的所属组

范例：`$ chgrp lampbrother fengjie `     

   改变文件`fengjie`的所属组为`lampbrother`

 

**命令名称：umask** 

命令英文原意：`the user file-creation mask` 

命令所在路径：`Shell`内置命令 

执行权限：所有用户 

语法：`umask [-S] `      

`-S`  以rwx形式显示新建文件缺省权限

功能描述：显示、设置文件的缺省权限 

范例： `$ umask -S`

tips: 新建文件是默认没有x权限（比如：防止木马病毒攻击）

 

#### 2.3 文件搜索命令

##### 2.3.1 文件搜索命令find

**命令名称：find** 

命令所在路径：`/bin/find `

执行权限：所有用户 

语法：`find [搜索范围] [匹配条件] `

功能描述：文件搜索

范例：

 

`$ find /etc -name init   `   

在目录/etc中查找文件init    

`-iname `不区分大小写    

`$ find /etc -name *init`*

在目录`/etc`中查找文件名包含`init   `

`$ find /etc -name init??？`

在目录`/etc`中查找文件名`init`开头并有3个字符的  

`$ find /etc -name init*`

在目录/etc中查找文件名`init`开头的  



tips:

*匹配任意字符，?匹配单个字符

`$ find / -size +204800    `  

在根目录下查找大于`100MB`的文件    

 `+n` 大于  `-n `小于  `n `等于     

`$ find /home -user shenchao`     

在根目录下查找所有者为`shenchao`的文件    

` -group` 根据所属组查找

`$ find /etc -cmin -5 `    

在`/etc`下查找5分钟内被修改过属性的文件和目录

`-amin `访问时间 `access` 

`-cmin `文件属性` change`  

`-mmin` 文件内容 `modify`

 

`$ find /etc -size +163840 -a -size -204800     `

在`/etc`下查找大于`80MB`小于`100MB`的文件      

`-a `两个条件同时满足     

 `-o `两个条件满足任意一个即可     

`$ find /etc -name inittab -exec ls -l {} \;`     

在`/etc`下查找`inittab`文件并显示其详细信息     

`-exec/-ok` 命令` {} \;` 对搜索结果执行操作

`tips:-exec`直接执行，`ok`会询问操作

 

`-type` 根据文件类型查找         

`f `文件  `d `目录  `l` 软链

`-inum` 根据`i`节点查找

 

##### 2.3.2 其他搜索命令

**命令名称：locate** 

命令所在路径：`/usr/bin/locate` 

执行权限：所有用户 

语法：`locate`文件名 

功能描述：在文件资料库中查找文件 

范例：`$ locate inittab`

tips:

新建文件`locate`不到，可以`updatedb`,更新文件资料库后查找[`tmp`不在文件资料库内]

`$ locate -i masichun.json // -i` 作用你不区分大小写类似 `-iname`

 

**命令名称：which** 

命令所在路径：`/usr/bin/which`

执行权限：所有用户 

语法：`which` 命令 

功能描述：搜索命令所在目录及别名信息 

范例：`$ which ls`

 

**命令名称：whereis** 

命令所在路径：`/usr/bin/whereis` 

执行权限：所有用户 

语法：`whereis [命令名称]` 

功能描述：搜索命令所在目录及帮助文档路径

范例：`$ whereis ls`

 

**命令名称：grep** 

命令所在路径：`/bin/grep` 

执行权限：所有用户 

语法：`grep -iv [指定字串] [文件] `

功能描述：在文件中搜寻字串匹配的行并输出       

`-i` 不区分大小写       

`-v` 排除指定字串 

范例：`# grep mysql /root/install.log`

  		 `# grep -v ^# /etc/inittab `去除以`#`开头的所有行信息，`^`表示以`XXX`开头

 

#### 2.4 帮助命令

**命令名称：man** 

命令英文原意：`manual `

命令所在路径：`/usr/bin/man `

执行权限：所有用户 

语法：`man [命令或配置文件] `

 (空格) 或`f `   翻页        

`  (Enter`)       换行         

` q`或`Q`       退出 

功能描述：获得帮助信息

范例：` $ man ls   `     

查看ls命令的帮助信息       

` $ man services   `     

查看配置文件`services`的帮助信息

![img](file:///D:/Personal/Temp/msohtmlclip1/01/clip_image004.png)

`1` 命令的帮助 5配置文件的帮助

`man 5 passwd` -> 查看配置文件的帮助

 

**命令：whatis**

语法：`whatis `命令

功能描述：获得命令的简单介绍信息

范例：`what is ls`

![img](file:///D:/Personal/Temp/msohtmlclip1/01/clip_image006.png)

类似的：`apropos`

语法：`apropos` 配置文件

`whatis `类似于精确查找

`apropos` 模糊查找关键字 [功能等于 man -k ][可以tab快速补全]

 

**命令名称：help**

命令所在路径：`Shell`内置命令 

执行权限：所有用户 

语法：`help` 命令 

功能描述：获得Shell内置命令的帮助信息 

范例： `$ help umask`        

查看`umask`命令的帮助信息

 

#### 2.5 用户管理命令

**命令名称：useradd** 

命令所在路径：`/usr/sbin/useradd` 

执行权限：`root` 

语法：`useradd 用户名` 

功能描述：添加新用户 

范例： `$ useradd yangmi`

 

**命令名称：passwd** 

命令所在路径：`/usr/bin/passwd` 

执行权限：所有用户 

语法：`passwd` 用户名 

功能描述：设置用户

 

范例： `$ passwd yangmi`

普通用户只能更改自己密码，`root`用户可以更好所有人密码

 

**命令名称：who** 

命令所在路径：`/usr/bin/who` 

执行权限：所有用户 

语法：`who `

功能描述：查看登录用户信息 

范例： `$ who`

![img](file:///D:/Personal/Temp/msohtmlclip1/01/clip_image008.png)

参数分别为：

用户名 登录终端[tty本地终端/pts远程终端] 登录时间 IP地址[没有表示本地登录]

 

**命令名称：w** 

命令所在路径：`/usr/bin/w` 

执行权限：所有用户 

语法：`w `

功能描述：查看登录用户详细信息 

范例： `$ w`

 

#### 2.6 压缩解压命令

**命令名称：gzip** 

命令英文原意：`GNU zip` 

命令所在路径：`/bin/gzip` 

执行权限：所有用户 

语法：`gzip [文件]` 

功能描述：压缩文件 

压缩后文件格式：`.gz`

 

**命令名称：gunzip [= gzip -d]**

命令英文原意：`GNU unzip` 

命令所在路径：`/bin/gunzip` 

执行权限：所有用户 

语法：`gunzip [压缩文件]` 

功能描述：解压缩`.gz`的压缩文件 

范例： `$ gunzip boduo.gz`

tips:

只能压缩文件不能压缩目录

 

**命令名称：tar** 

命令所在路径：`/bin/tar` 

执行权限：所有用户 

语法：`tar 选项[-zcf] [压缩后文件名] [目录]`                  

`-c`  打包         

`-v`  显示详细信息         

`-f`   指定文件名      

`-z`   打包同时压缩 

功能描述：打包目录 压缩后文件格式：`.tar.gz`

范例：    

`$ tar -zcf  lveh.tar.gz lveh`    

将目录`lveh`打包并压缩为`.tar.gz`文件

 

`tar`命令解压缩语法：     

`-x`   解包      

`-v`  显示详细信息      

`-f`   指定解压文件      

`-z`   解压缩 

范例：`$ tar -zxvf lveh.tar.gz`

 

**命令名称：zip** 

命令所在路径：`/usr/bin/zip` 

执行权限：所有用户 

语法：   

`zip 选项[-r] [压缩后文件名] [文件或目录] `     

`-r ` 压缩目录 

功能描述：压缩文件或目录 

压缩后文件格式：`.zip`

范例：     

`$ zip buduo.zip  lveh `

压缩文件     

`$ zip -r lveh.zip lveh  `     

压缩目录

tips：会保留原文件

**命令名称：unzip** 

命令所在路径：`/usr/bin/unzip` 

执行权限：所有用户 

语法：`unzip [压缩文件]` 

功能描述：解压`.zip`的压缩文件 

范例：`$ unzip test.zip`

 

**命令名称：bzip2** 

命令所在路径：`/usr/bin/bzip2` 

执行权限：所有用户 

语法：` bzip2 选项 [-k] [文件]`            

 ` -k  `产生压缩文件后保留原文件 

功能描述：压缩文件 

压缩后文件格式：`.bz2` 

范例：`$ bzip2 -k test `       

 `$ tar -cjf lveh.tar.bz2 lveh`

 

**命令名称：bunzip2** 

命令所在路径：`/usr/bin/bunzip2` 

执行权限：所有用户 

语法： `bunzip2 选项 [-k] [压缩文件]`                

`-k`  解压缩后保留原文件 

功能描述：解压缩 

范例：`$ bunzip2 -k test.bz2`      

  `$ tar -xjf lveh.tar.bz2`

 

#### 2.7 网络命令

**指令名称：write** 

指令所在路径：`/usr/bin/write `

执行权限：所有用户 

语法：`write <用户名>  `

功能描述：给用户发信息，以`Ctrl+D`保存结束 

范例：  # write lveh

**tips:**

输入错误，control+delete 删除

 

**指令名称：wall** 

命令英文原意：`write all `

指令所在路径：`/usr/bin/wall `

执行权限：所有用户 

语法：`wall [message] ` 

功能描述：发广播信息 

范例： ` # wall ShenChao is a honest man!`

 

**命令名称：ping** 

命令所在路径：`/bin/ping` 

执行权限：所有用户 

语法：`ping` 选项` IP`地址           

` -c `指定发送次数 

功能描述：测试网络连通性 

范例： `# ping 192.168.1.156`

 

**命令名称：ifconfig** 

命令英文原意：`interface configure `

命令所在路径：`/sbin/ifconfig `

执行权限：`root `

语法：`ifconfig `网卡名称` IP`地址 

功能描述：查看和设置网卡信息 

范例：`# ifconfig eth0 192.168.8.250`

 

**命令名称：mail** 

命令所在路径：`/bin/mail `

执行权限：所有用户 

语法：`mail [用户名] `

功能描述：查看发送电子邮件 

范例：`# mail root`

 

**命令名称：last** 

命令所在路径：`/usr/bin/last `

执行权限：所有用户 

语法：`last` 

功能描述：列出目前与过去登入系统的用户信息 

范例：`# last`

 

**命令名称：lastlog** 

命令所在路径：`/usr/bin/lastlog `

执行权限：所有用户 

语法：`lastlog `

功能描述：检查某特定用户上次登录的时间

范例：`# lastlog  `     

`# lastlog -u 502`

 

**命令名称：traceroute** 

命令所在路径：`/bin/traceroute` 

执行权限：所有用户 

语法：`traceroute` 

功能描述：显示数据包到主机间的路径 

范例：`# traceroute`

 

**命令名称：netstat** 

命令所在路径：`/bin/netstat `

执行权限：所有用户 

语法：`netstat [选项]` 

功能描述：显示网络相关信息

选项： 

` -t` ： `TCP`协议 

 `-u `： `UDP`协议 

 `-l` ： 监听 

 `-r` ： 路由 

 `-n` ： 显示IP地址和端口号 

范例： 

`# netstat -tlun` 查看本机监听的端口 

`# netstat -an` 查看本机所有的网络连接 

`# netstat -rn` 查看本机路由表

 

查看某一端口是否被占用：`netstat -tunlp |grep 2181`

 

 

**命令名称：setup** 

命令所在路径：`/usr/bin/setup` 

执行权限：`root` 

语法：`setup` 

功能描述：配置网络 

范例：`# setup`

 

**命令名称：mount** 

命令位置：`/bin/mount` 

执行权限：所有用户 

命令语法：`mount [-t 文件系统] 设备文件名 挂载点` 

范例：`# mount -t iso9660 /dev/sr0 /mnt/cdrom`

 

#### 2.8 关机重启命令

##### 2.8.1 shutdown命令

 `[root@localhost ~]# shutdown [选项] 时间` 

选项：` -c`： 取消前一个关机命令 `-h`： 关机 `-r`： 重启

##### 2.8.2 其他关机命令

`[root@localhost ~]# halt `

`[root@localhost ~]# poweroff `

`[root@localhost ~]# init 0`

 

##### 2.8.3 其他重启命令 

`[root@localhost ~]# reboot` 

`[root@localhost ~]# init 6`

 

##### 2.8.4 系统运行级别

`0`  关机 

`1` 单用户 

`2` 不完全多用户，不含NFS服务 

`3` 完全多用户

`4` 未分配 

`5` 图形界面

`6` 重启

 

`[root@localhost ~]# cat /etc/inittab` 

\#修改系统默认运行级别 

`id:3:initdefault:`

`[root@localhost ~]# runlevel` 

\#查询系统运行级别

 

##### 2.8.5 退出登录命令

` [root@localhost ~]# logout`

 

### 第三章 文本编辑器Vim

#### 3.1 Vim常用操作

**Vim** **简介：**

`Vim`是一个功能强大的全屏幕文本编辑器， 是`Linux/UNIX`上最常用的文本编辑器， 它的作用是建立、编辑、显示文本文件。

`Vim` 没有菜单，只有命令。

![img](file:///D:/Personal/Temp/msohtmlclip1/01/clip_image010.png)

 

**插入命令**

| 命令  | 作用                 |
| ----- | -------------------- |
| **a** | 在光标所在字符后插入 |
| **A** | 在光标所在行尾插入   |
| **i** | 在光标所在字符前插入 |
| **I** | 在光标所在行行首插入 |
| **o** | 在光标下插入新行     |
| **O** | 在光标上插入新行     |

 

**定位命令**

| 命令                                      | 作用                                                         |
| ----------------------------------------- | ------------------------------------------------------------ |
| : set nu  :set nonu  gg  GG  nG  :n  $  0 | 设置行号  取消行号  到第一行  到最后一行  到第n行  到第n行  移至行尾  移至行首 |

 

**删除命令**

**命令 作用**

`x `删除光标所在处字符

`nx` 删除光标所在处后n个字符

`dd` 删除光标所在行，`ndd`删除`n`行

`dG` 删除光标所在行到文件末尾内容

`D` 删除光标所在处到行尾内容

`:n1,n2d` 删除指定范围的行

 

**复制和剪切命令**

**命令 作用**

`yy` 复制当前行

`nyy` 复制当前行以下n行

`dd` 剪切当前行

`ndd` 剪切当前行以下n行

`p、P` 粘贴在当前光标所在行下或行上

 

**替换和取消命令**

**命令 作用**

`r` 取代光标所在处字符

`R` 从光标所在处开始替换字符，按Esc结束

`u` 取消上一步操作

 

**搜索和搜索替换命令**

**命令 作用**

`/String` 搜索指定字符串; 搜索时忽略大小写 :`set ic`

`n` 搜索指定字符串的下一个出现位置

`:%s/old/new/g`  全文替换指定字符串      `tips: %s `全文替换

`:n1,n2s/old/new/g` 在一定范围内替换指定字符串

起始行,终止行`s /`要替换的字符串/替换的新的字符串`/g`

`/c `询问确认

 

**保存和退出命令**

**命令  作用**

`:w`  保存修改

`:w new_filename` 另存为指定文件

`:wq`  保存修改并退出

`ZZ ` 快捷键，保存修改并退出

`:q!`  不保存修改退出

`:wq! ` 保存修改并退出（文件所有者及`root`可使用）

 

总结:

![img](file:///D:/Personal/Temp/msohtmlclip1/01/clip_image012.png)

#### 3.2 Vim使用技巧

导入命令执行结果 :`r !`命令

定义快捷键 :`map` 快捷键 触发命令    

范例： `: map ^P I#`          

`: map ^B 0x` 

连续行注释 ` :n1,n2s/^/#/g`              

   `:n1,n2s/^#//g`

   `:n1,n2s/^/\/\//g`   tips:\转义字符

替换 :  ab mymail [samlee@lampbrother.net](samlee@lampbrother.net) [输入mymail会自动替换成后面的内容]

tips：定义的快捷键或者ab的内容重启后会消失。

保存在：文件 `.vimrc` 中

root用户 ->  `/root/.vimrc`

普通用户 ->  `/home/username/.vimrc`

 

 